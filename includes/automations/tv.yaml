- id: TV Living room ON
  alias: TV Living room ON
  trigger:
    - platform: state
      entity_id: media_player.tv_living_room
      to: "on"
  condition:
  action:
    - service: media_player.select_source
      data:
        entity_id: media_player.tv_living_room
        source: "vTuner"

- id: TV Kitchen ON
  alias: TV Kitchen ON
  trigger:
    - platform: state
      entity_id: media_player.tv_kitchen
      to: "on"
  condition:
  action:
    - service: media_player.select_source
      data:
        entity_id: media_player.tv_kitchen
        source: "vTuner"

- id: TV Living room OFF
  alias: TV Living room OFF
  trigger:
    - platform: template
      value_template: "{{ states('sensor.time') == (state_attr('input_datetime.tv_livingroom_off', 'timestamp') | int | timestamp_custom('%H:%M', False)) }}"
  condition:
    - condition: state
      entity_id: input_boolean.livingroom_tv_off
      state: "on"
  action:
    - service: webostv.button
      data:
        entity_id: media_player.tv_living_room
        button: "BACK"
    - delay: '0:0:10'
    - service: webostv.command
      data:
        entity_id: media_player.tv_living_room
        command: system/turnOff

- id: TV LivKitchen ing room OFF
  alias: TV Kitchen room OFF
  trigger:
    - platform: template
      value_template: "{{ states('sensor.time') == (state_attr('input_datetime.tv_kitchen_off', 'timestamp') | int | timestamp_custom('%H:%M', False)) }}"

  condition:
    - condition: state
      entity_id: input_boolean.kitchen_tv_off
      state: "on"
  action:
    - service: webostv.button
      data:
        entity_id: media_player.tv_kitchen
        button: "BACK"
    - delay: '0:0:10'
    - service: webostv.command
      data:
        entity_id: media_player.tv_kitchen
        command: system/turnOff
